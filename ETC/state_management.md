# 리덕스를 도입하는데 주저하게 만드는 장벽들
- https://www.youtube.com/watch?v=ZQ6nrKRju84

# 데이터 상태관리, 그것을 알려주마
- https://www.youtube.com/watch?v=o4meZ7MRd5o

### MobX
- 반응형 프로그래밍 패러다임
- 상태관찰(Observable) 형태의 형상관리
- 장점 : 
- 단순하고 이해하기 쉬움
- 간편한 비동기 처리
- 클래스와 연결 용이

- 단점 :
- 서버에서 받아온 자료를 호환가능한 자료(Observable한 형태)로 변환 시켜야 함. 
- 계층구조가 깊어질수록 Serialize/Deserialize 지옥 ex) 계층화된 array 데이터
- 에러 컨트롤

### Redux
> #### Flux
- DDAU(Data Down⬆, Action Up⬇)

- 단방향(Flux) 형상 관리 도구
- Action : 무엇을 할 지만 정의하고 어떻게 처리하는지는 포함하지 않음
- Reducer : 이전 리덕스 스토어 상태와 액션 값으로 새 상태를 생성하는 순수함수
- 미들웨어 선택장애 비동기 제어

pure middleware
vs
redux-saga
redux-actions
redux-observable


#### 미들웨어
- 리듀서가 실행이 되기 전과 후에 어떤 체이닝이나 훅을 넣을 수 있는 패턴
- 액션이 실행이 될 때 흐름이 돌꺼고, 그 흐름이 돌 때 어떤 행동을 하느냐를 조절하는 것

- `redux-thunk`
: 액션 값이 객체가 아닌 함수 형태로 왔을 때 리듀서에 그 값을 던지는 게 아니라 그 함수를 dispatch랑 getState에 던져서 그 안에서 실행하도록 store함수를 던져주는 구조.
- 기존에는 컴포넌트 안에서만 dispatch를 해서 리덕스의 상태를 변경시켜왔는데, 미들웨어 안에서 dispatch가 실행이 되면서 action을 다시 리듀서 안에 흘려보내는 구조

### GraphQL과 apollo
- 전제조건 : apollo를 사용하려면 GraphQL 서버가 구성되어 있어야 함
- RestAPI -> GraphQL
- 장점 : 
- API call 횟수가 줄어듬. 하나의 쿼리로 동시에 여러 쿼리를 가져올 수 있음. 데이터 연결 지연 속도를 줄일 수 있음.
- 데이터 업데이트 되었는지, 데이터 형태 어떤지 (`swagger`대신 `GraphiQL` 사용해서 테스트 가능.) 백엔드 엔지니어와의 대화시간을 줄여줌

- 단점 :
- GraphQL 서버 구축 비용
- 학습 장벽
- 새 패러다임의 적응 필요


### 상황에 맞게 쓰자
- 한번에 다 바꾸려고 하면 안된다


### 정리
- FE앱은 상태(데이터)들의 유기적인 집합체
- 상태 관리는 DOM의 변화 비동기 동작 간의 개념 충돌 등 여러 이슈가 발생하였음
- 상태 관리에 대한 다양한 접근법이 제시되었고, 현재로 올수록 DOM 중심에서 상태 중심의 개발 방법이 제시
- 관점의 변화가 필요하고, 이에 따라 개발 방식 또한 변화 되어야 함
- 하지만 현재는 레거시(jQuery)와 AngularJS, Redux 등이 혼재하기 때문에 경우에 따라 빠르게 관점의 적응이 필요(결국 다 알고 있어야 한다는...)
- 사실 정답은 없음, 상태 관리 방법은 앱의 전체적인 구조, 아키텍쳐를 결정하는 매우 중요한 요소이기 때문에 앱 개발 시작 전 치열하게 고민해야 함.